# mcp-project-orchestrator

## Overview

The mcp-project-orchestrator is an MCP server designed to assist with the orchestration of new software projects by applying standardized templates and best practices in design patterns and software architecture.

This server extracts key information from user input, selects an appropriate project template from a standardized catalogue (with consistent structure for both project and component templates), and generates comprehensive documentation that includes:

- Software Architecture
- Components and Modules
- File Structures and Directory Trees
- Implementation Strategies
- Visual diagrams using the Mermaid tool

## Key Features

- **Standardized Templates:** All project and component templates follow a consistent structure with standardized keys (e.g., 'name', 'type', 'mermaid', 'directory_structure').
- **Redundancy Elimination:** Redundant or overlapping templates have been consolidated or removed to keep the catalogue clean and configurable.
- **Dynamic Configuration:** The server loads its configuration from `project_orchestration.json`, which contains MCP-specific settings such as communication protocols and compliance standards.
- **Documentation Generation:** Automatically generated comprehensive README files and Mermaid diagrams help visualize the project architecture and implementation strategy.

## How It Works

1. **Information Extraction:** The server analyzes the user's project idea to extract design patterns and architecture concepts.
2. **Template Selection:** Based on the analysis, an appropriate project template is selected from a standardized catalogue (e.g., Microservices Architecture, Event-Driven, Repository Pattern, etc.).
3. **Project Setup:** The server creates the project directory structure and placeholder files based on the chosen template. It populates component files (interfaces, implementations, tests, etc.) with TODO comments, ensuring consistent naming and file organization.
4. **Documentation and Visualization:** The server generates a comprehensive README with details about the software architecture, components, process flows, file structures, and implementation strategy, including visual diagrams generated by the Mermaid tool.

## Configuration

The server loads its configuration from `project_orchestration.json`, which contains settings such as:

- Communication Protocol: JSON-RPC
- MCP Compliance: true
- Steps for orchestration and orchestration guidelines

This configuration is attached to the FastMCP instance as `mcp.config`.

## Usage

To run the MCP server, execute:

```bash
python project_orchestration.py
```

Ensure that the required JSON template files (e.g., `project_templates.json`, `component_templates.json`, and `project_orchestration.json`) are present in the workspace.

## Extending the Server

Developers can extend or modify the orchestration process by:

- Updating the standardized templates (both project and component templates) to change the structure or add new keys as needed.
- Modifying `project_orchestration.json` to update configuration details and orchestration steps.
- Customizing the MCP orchestration logic in `project_orchestration.py` to refine project and documentation generation.

## License

This project is licensed under the MIT License.

## Virtual Environment Setup

To set up the project locally using a virtual environment:

1. Create a virtual environment:
   ```bash
   python3 -m venv venv
   ```

2. Activate the virtual environment:
   ```bash
   source ./venv/bin/activate
   ```

3. Upgrade pip (optional but recommended):
   ```bash
   pip install --upgrade pip
   ```

4. Install the package in editable mode:
   ```bash
   pip install -e . --break-system-packages
   ```

## Running Tests

Run tests using pytest (clear cache to avoid stale data):

```bash
python -m pytest --cache-clear
```

## Containerized Deployment

A Containerfile is provided for containerizing the application using Podman.

### Build the Container Image

Use the following command to build the container image:

```bash
podman build -t mcp-project-orchestrator .
```

### Run the Container

Run the container exposing port 8080 (adjust the port if needed):

```bash
podman run -p 8080:8080 mcp-project-orchestrator
```

## GitHub Actions Workflow for Containerized Deployment

A GitHub Actions workflow is set up in the `.github/workflows/deploy.yml` file to automate the container build and deploy process.

For further details, refer to the workflow file.

## MCP Integration

This server follows the Model Context Protocol (MCP) standards:

### Resources Exposed
- Project templates catalog
- Component templates catalog
- Generated project structures

### Tools Provided
- `create_project`: Create a new project based on description and design patterns
- `list_templates`: List available project templates
- `generate_documentation`: Generate documentation for existing code

### MCP Protocol Compliance
- Implements the MCP server specification version 0.9
- Uses the FastMCP server for communication
- Provides proper error handling and logging

### Testing with MCP Inspector

The MCP Inspector is a powerful tool for testing and validating MCP servers. Follow these steps to test your server:

1. Install the MCP Inspector:
   ```bash
   npm install -g @modelcontextprotocol/inspector
   ```

2. Start your MCP server (if not already running):
   ```bash
   # Using the container
   docker run -d -p 8080:8080 mcp-project-orchestrator
   
   # Or directly with Python
   python -m mcp_project_orchestrator.fastmcp
   ```

3. Run the MCP Inspector against your server:
   ```bash
   npx @modelcontextprotocol/inspector http://localhost:8080
   ```

4. Validate your server:
   ```bash
   npx @modelcontextprotocol/inspector http://localhost:8080 --validate
   ```

5. Interactive mode for testing tools:
   ```bash
   npx @modelcontextprotocol/inspector http://localhost:8080 --interactive
   ```

The inspector will:
- Verify your server complies with the MCP protocol
- List the resources and tools your server exposes
- Allow you to interactively call tools and test functionality
- Provide detailed error information if issues are found

For more information on MCP Inspector, visit [MCP Inspector Documentation](https://modelcontextprotocol.io/docs/tools/inspector).

### Claude Desktop Integration

To add this MCP server to Claude Desktop:

1. Install [Claude Desktop](https://claude.ai/download) if you haven't already
2. Open Claude Desktop and go to Settings > Developer > Edit Config
3. Add the following to your `claude_desktop_config.json`:

```json
{
  "mcpServers": {
    "project-orchestrator": {
      "command": "docker",
      "args": [
        "run",
        "--rm",
        "-p",
        "8080:8080",
        "ghcr.io/YOUR_USERNAME/mcp-project-orchestrator:latest"
      ]
    }
  }
}
```

Replace `YOUR_USERNAME` with your GitHub username if you've published the image to GitHub Container Registry.

4. Restart Claude Desktop to access the Project Orchestrator tools in the tools menu (hammer icon).

For more information on MCP, visit [modelcontextprotocol.io](https://modelcontextprotocol.io).
